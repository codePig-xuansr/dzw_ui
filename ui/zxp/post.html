<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	
		<style type="text/css">
			#app{
				
				padding-left: 5px;
				padding-top: 20px;
			}
			
		</style>
	</head>

	<body>
		<div id="app">
			<span style="position: relative;left: -40px;">岗位编码：</span><el-input type="text" style="width: 200px;position: relative;left: -30px;" placeholder="请输入岗位编码" v-model="vehicleInfo.rid" maxlength="10" show-word-limit class="pid" :disabled="edit" >
			</el-input>
			<span style="position: relative;left: -20px;">岗位名称：</span><el-input type="text" style="width: 200px;position: relative;left: -20px;" placeholder="请输入岗位名称" v-model="vehicleInfo.rname" maxlength="10" show-word-limit class="pname">
			</el-input>
			<el-button type="primary" @click="add">添加</el-button>
			 <el-button type="primary"  @click="xiu">保存</el-button>
  
			<br />
			<br />
			<!--<el-col :span="24">
					<template>
						<el-table :data="vehicleInfo.list" border style="width: 100%">
							<el-table-column v-for="(temp,index) in stsy" :label="temp.name" align="center" :resizable="false">
								<template slot-scope="scope">
									<span v-if="temp.value!=0">{{scope.row[temp.value]}}</span>
									<el-button type="danger" v-if="temp.value==0" @click="delOne(scope.row.sid)">删除</el-button>
									<el-button type="primary" v-if="temp.value==0" @click="modify = true">修改</el-button>							
								</template>
							</el-table-column>
						</el-table>
						<el-pagination background prev-text="上一页" next-text="下一页" @size-change="sizec" @current-change="change" layout="total,sizes,prev, pager, next, jumper" :total="vehicleInfo.total" :page-sizes="[1,2,3,4,5]" :page-size="vehicleInfo.pageSize">
					</template>
				
				</el-col>-->
				
				<el-row style="position: relative;left: 270px;">
				<el-col :span="12">
				<template>
    <el-table    :default-sort="{prop: 'pdate', order: 'descending'}"  :data="vehicleInfo.list"   stripe style="width: 100%"  border :row-class-name="tableRowClassName" >
      <el-table-column prop="rid" label="序号"  width="190">	
						</el-table-column>
						<el-table-column prop="rname" label="岗位名称"   width="190">
						</el-table-column>
						<el-table-column label="操作"   width="190">
							<template slot-scope="scope">
								<el-button type="primary"   @click="modify = true">编辑</el-button>
								<el-button type="primary"    @click="delOne(vehicleInfo.list[scope.$index].uid)" style="position: relative;float: 50px;">删除</el-button>
							</template>
    </el-table>
  </template>
  <el-pagination background prev-text="上一页" next-text="下一页" @size-change="sizec" @current-change="change" layout="total,sizes,prev, pager, next, jumper" :total="vehicleInfo.total" :page-sizes="[1,2,3,4,5]" :page-size="vehicleInfo.pageSize">
  </el-col>	
			</el-row>


				<!--<el-row>
				<el-col :span="24">
			<el-table :default-sort="{prop: 'pdate', order: 'descending'}" :data="vehicleInfo.list" border :row-class-name="tableRowClassName" border style="width: 25%;height: 50%;" >
						<el-table-column prop="rid" label="序号" style="color:#B3D8FF ;">	
						</el-table-column>
						<el-table-column prop="rname" label="岗位名称" style="color:#B3D8FF ;">
						</el-table-column>
						<el-table-column label="操作" style="color:#B3D8FF ;" >
							<template slot-scope="scope">
								<el-button type="primary"   @click="modify = true">编辑</el-button>
								<el-button type="primary"    @click="delOne(vehicleInfo.list[scope.$index].uid)" style="position: relative;float: 50px;">删除</el-button>
							</template>
						</el-table-column>
						
					</el-table>
					<el-pagination background prev-text="上一页" next-text="下一页" @size-change="sizec" @current-change="change" layout="total,sizes,prev, pager, next, jumper" :total="vehicleInfo.total" :page-sizes="[1,2,3,4,5]" :page-size="vehicleInfo.pageSize">
			</el-col>	
			</el-row>-->
			<!--<template id="a1">
				<el-table  :data="vehicleInfo" style="border: lightgray solid 1px;position: relative;left:400px;width: 35%" max-height="500" align="center" :resizable="false">
					
					<el-table-column prop="postid"   label="岗位编码" width="120">
						 <el-input v-model="vehicleInfo.postid"></el-input>
					</el-table-column>
					<el-table-column prop="postname"   label="岗位名称" width="120">
						 <el-input v-model="vehicleInfo.postname"></el-input>
					</el-table-column>
					
					
					
					<el-table-column fixed="right" label="操作" width="120">
						
						<template slot-scope="temp">
							<el-button @click="del(temp.row.postid)" type="text" size="small">
								移除
							</el-button>
							<el-button @click="cha(temp.row.postid)" type="text"  size="small">
								编辑
							</el-button>
						</template>
					</el-table-column>
				</el-table>
			</template>-->
		</div>
	</body>
	
	<script>var app = new Vue({
	el: "#app",
	data: {
formLabelAlign:{
					rid:'',
					rcode:'',
					rname:'',
					createby:'',
					createdate:'',
				},
				add: false,
				modify:false,
				piges: {},
				carlist: [],
				list: [],
				vehicleInfo:[],
				stsy: [{
					name: '序号',
					value: 'rid'
				}, {
					name: '岗位名称',
					value: 'rname'
				}, {
					name: '操作',
					value: '0'
				}],
	},
	methods: {
				/*delOne(classno) {
					let _this = this;
					if(confirm("确认删除？")) {
						jQuery.post("http://127.0.0.1:8080/api/class1/del", {
							classno: `${classno}`
						}, function(data) {
							alert("删除成功！");
							location.reload();
						});
					}
				},*/
				
				page(n,s) {
					let _this = this;
					jQuery.getJSON(`http://127.0.0.1:8080/zxp/api/role/queryRoleAll/${n}/${s}`,function(pg) {
						_this.vehicleInfo = pg;

						_this.list = pg.list;
						
					});
				},
				//页数改变事件

				change(num) {
					let _this = this;
					this.page(num, _this.vehicleInfo.pageSize);
				},
				//pageSize选择事件
				sizec(size) {
					this.page(1, size);
				},
				//添加数据
				addall() {
					let _this=this;
					jQuery.ajax("http://127.0.0.1:8080/zzy/api/class1/addStar/{star}",{
						type:'post',
						data:JSON.stringify(_this.formLabelAlign),
						contentType: 'application/json; charset=UTF-8',
						success(data){
							if(data=="ok"){
								alert("新增失败！");
							}else{							
								alert("新增成功！");
									this.add = false;
								location.reload();
							}
						}
					});
				}
			},
			mounted() {
				let _this = this;
				_this.page(1, 3);
			}
		});
	</script>

</html>